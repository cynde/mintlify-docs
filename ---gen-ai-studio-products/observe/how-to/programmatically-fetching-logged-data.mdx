---
title: "Programmatically Fetching Logged Data"
---

# Programmatically fetching logged data

If you want to fetch your logged data and metrics programmatically, you can do so via our Typescript and Python clients or via our REST APIs:

TypescriptPythonREST endpoints

First, npm install <code class="py-[1px] px-1.5 min-w-[1.625rem] inline-flex justify-center items-center ring-1 ring-inset ring-dark/1 bg-dark/[0.06] rounded text-dark/8 dark:ring-light/1 dark:bg-light/1 dark:text-light/7 text-[.875em] leading-[calc(max(1.20em,1.25rem))]">@rungalileo/observe</code>

Then add the following to your project:

```
import { ApiClient } from "@rungalileo/observe";

import { ApiClient } from "@rungalileo/observe";

import
 { ApiClient } 
from
 
"@rungalileo/observe"
;
const apiClient = new ApiClient();

const apiClient = new ApiClient();

const
 
apiClient
 
=
 
new
 
ApiClient
();
await apiClient.init("YOUR_PROJECT_NAME");
await apiClient.init("YOUR_PROJECT_NAME");
await
 
apiClient
.init
(
"YOUR_PROJECT_NAME"
);
```

You can use this with <code class="py-[1px] px-1.5 min-w-[1.625rem] inline-flex justify-center items-center ring-1 ring-inset ring-dark/1 bg-dark/[0.06] rounded text-dark/8 dark:ring-light/1 dark:bg-light/1 dark:text-light/7 text-[.875em] leading-[calc(max(1.20em,1.25rem))]">getLoggedData</code> to retrieve the raw data.

```
// Optional

// Optional

// Optional
const filters = [{ col_name: "model", operator: "eq", value: "gpt-3.5-turbo" }];

const filters = [{ col_name: "model", operator: "eq", value: "gpt-3.5-turbo" }];

const
 
filters
 
=
 [{ col_name
:
 
"model"
,
 operator
:
 
"eq"
,
 value
:
 
"gpt-3.5-turbo"
 }];




// Optional

// Optional

// Optional
const sort_spec = [{ col_name: "created_at", sort_dir: "asc" }];

const sort_spec = [{ col_name: "created_at", sort_dir: "asc" }];

const
 
sort_spec
 
=
 [{ col_name
:
 
"created_at"
,
 sort_dir
:
 
"asc"
 }];




const rows = await apiClient.getLoggedData(

const rows = await apiClient.getLoggedData(

const
 
rows
 
=
 
await
 
apiClient
.getLoggedData
(
  "2024-03-11T16:15:28.294Z", // ISO start_time string with timezone

  "2024-03-11T16:15:28.294Z", // ISO start_time string with timezone

  
"2024-03-11T16:15:28.294Z"
,
 
// ISO start_time string with timezone
  "2024-03-12T16:15:28.294Z", // ISO end_time string with timezone

  "2024-03-12T16:15:28.294Z", // ISO end_time string with timezone

  
"2024-03-12T16:15:28.294Z"
,
 
// ISO end_time string with timezone
  filters, // (optional) See above for an example.

  filters, // (optional) See above for an example.

  filters
,
 
// (optional) See above for an example.
  sort_spec, // (optional) See above for an example

  sort_spec, // (optional) See above for an example

  sort_spec
,
 
// (optional) See above for an example
  limit // a number of items to return

  limit // a number of items to return

  limit 
// a number of items to return
);

);

);
console.log(rows);
console.log(rows);
console
.log
(rows);
```

You can use <code class="py-[1px] px-1.5 min-w-[1.625rem] inline-flex justify-center items-center ring-1 ring-inset ring-dark/1 bg-dark/[0.06] rounded text-dark/8 dark:ring-light/1 dark:bg-light/1 dark:text-light/7 text-[.875em] leading-[calc(max(1.20em,1.25rem))]">getMetrics</code> to get corresponding metrics.

```
const metrics = await apiClient.getMetrics(

const metrics = await apiClient.getMetrics(

const
 
metrics
 
=
 
await
 
apiClient
.getMetrics
(
  "2024-03-11T16:15:28.294Z",

  "2024-03-11T16:15:28.294Z",

  
"2024-03-11T16:15:28.294Z"
,
  "2024-03-12T16:15:28.294Z",

  "2024-03-12T16:15:28.294Z",

  
"2024-03-12T16:15:28.294Z"
,
  filters

  filters

  filters
);

);

);
console.log(metrics);
console.log(metrics);
console
.log
(metrics);
```

First, see the [Quickstart guide](/galileo/gen-ai-studio-products/galileo-observe/getting-started) for installing galileo\_observe and using it in your project.

```
...

...

...
observe = GalileoObserve(project_name=MY_PROJECT_NAME)

observe = GalileoObserve(project_name=MY_PROJECT_NAME)

observe 
=
 
GalileoObserve
(project_name
=
MY_PROJECT_NAME)
...
...
...
```

After logging some data to Galileo Observe, you can fetch rows and metrics like this:

```
filters = [{"col_name": "model", "operator": "eq", "value": "gpt-3.5-turbo"}]

filters = [{"col_name": "model", "operator": "eq", "value": "gpt-3.5-turbo"}]

filters 
=
 [
{
"col_name"
:
 
"model"
,
 
"operator"
:
 
"eq"
,
 
"value"
:
 
"gpt-3.5-turbo"
}
]
sort_spec = [{"col_name": "created_at", "sort_dir": "asc"}]

sort_spec = [{"col_name": "created_at", "sort_dir": "asc"}]

sort_spec 
=
 [
{
"col_name"
:
 
"created_at"
,
 
"sort_dir"
:
 
"asc"
}
]




# ISO start and end time strings with timezone

# ISO start and end time strings with timezone

# ISO start and end time strings with timezone
start = "2024-03-11T16:15:28.294Z"  

start = "2024-03-11T16:15:28.294Z"  

start 
=
 
"2024-03-11T16:15:28.294Z"
  
end = "2024-03-12T16:15:28.294Z"

end = "2024-03-12T16:15:28.294Z"

end 
=
 
"2024-03-12T16:15:28.294Z"




rows = observe.get_logged_data(filters=filters, sort_spec=sort_spec)

rows = observe.get_logged_data(filters=filters, sort_spec=sort_spec)

rows 
=
 observe
.
get_logged_data
(filters
=
filters, sort_spec
=
sort_spec)
print(rows)

print(rows)

print
(rows)




metrics = observe.get_metrics(

metrics = observe.get_metrics(

metrics 
=
 observe
.
get_metrics
(
    start_time=end,

    start_time=end,

    start_time
=
end,
    end_time=end,

    end_time=end,

    end_time
=
end,
    filters=[

    filters=[

    filters
=
[
        {

        {

        {
            "col_name": "metrics",

            "col_name": "metrics",

            
"col_name"
: 
"metrics"
,
            "json_field": "cost",

            "json_field": "cost",

            
"json_field"
: 
"cost"
,
            "json_field_type": "float",

            "json_field_type": "float",

            
"json_field_type"
: 
"float"
,
            "operator": "gte",

            "operator": "gte",

            
"operator"
: 
"gte"
,
            "value": 0,

            "value": 0,

            
"value"
: 
0
,
        }

        }

        }
    ],

    ],

    ],
)

)

)
print(metrics)
print(metrics)
print
(metrics)
```

Fetching data via our RESTful APIs is a two-step process:

1.  Authentication
    
2.  Fetching
    

### 

[](#authentication)

Authentication

To fetch an authentication token, send a <code class="py-[1px] px-1.5 min-w-[1.625rem] inline-flex justify-center items-center ring-1 ring-inset ring-dark/1 bg-dark/[0.06] rounded text-dark/8 dark:ring-light/1 dark:bg-light/1 dark:text-light/7 text-[.875em] leading-[calc(max(1.20em,1.25rem))]">POST</code> request to <code class="py-[1px] px-1.5 min-w-[1.625rem] inline-flex justify-center items-center ring-1 ring-inset ring-dark/1 bg-dark/[0.06] rounded text-dark/8 dark:ring-light/1 dark:bg-light/1 dark:text-light/7 text-[.875em] leading-[calc(max(1.20em,1.25rem))]">/login</code> with your <code class="py-[1px] px-1.5 min-w-[1.625rem] inline-flex justify-center items-center ring-1 ring-inset ring-dark/1 bg-dark/[0.06] rounded text-dark/8 dark:ring-light/1 dark:bg-light/1 dark:text-light/7 text-[.875em] leading-[calc(max(1.20em,1.25rem))]">username</code> and <code class="py-[1px] px-1.5 min-w-[1.625rem] inline-flex justify-center items-center ring-1 ring-inset ring-dark/1 bg-dark/[0.06] rounded text-dark/8 dark:ring-light/1 dark:bg-light/1 dark:text-light/7 text-[.875em] leading-[calc(max(1.20em,1.25rem))]">password</code>:

```
import requests

import requests

import
 requests




base_url = YOUR_BASE_URL #see below for instructions to get your base_url

base_url = YOUR_BASE_URL #see below for instructions to get your base_url

base_url 
=
 YOUR_BASE_URL 
#see below for instructions to get your base_url




headers = {

headers = {

headers 
=
 
{
    'accept': 'application/json',

    'accept': 'application/json',

    
'accept'
:
 
'application/json'
,
    'Content-Type': 'application/x-www-form-urlencoded',

    'Content-Type': 'application/x-www-form-urlencoded',

    
'Content-Type'
:
 
'application/x-www-form-urlencoded'
,
}

}

}




data = {

data = {

data 
=
 
{
    'username': '{YOUR_USERNAME}',

    'username': '{YOUR_USERNAME}',

    
'username'
:
 
'
{YOUR_USERNAME}
'
,
    'password': '{YOUR_PASSWORD}',

    'password': '{YOUR_PASSWORD}',

    
'password'
:
 
'
{YOUR_PASSWORD}
'
,
}

}

}




response = requests.post(f'{base_url}/login', headers=headers, data=data)

response = requests.post(f'{base_url}/login', headers=headers, data=data)

response 
=
 requests
.
post
(f
'
{base_url}
/login'
, headers
=
headers, data
=
data)




access_token = response.json()["access_token"]
access_token = response.json()["access_token"]
access_token 
=
 response
.
json
()
[
"access_token"
]
```

Note: <code class="py-[1px] px-1.5 min-w-[1.625rem] inline-flex justify-center items-center ring-1 ring-inset ring-dark/1 bg-dark/[0.06] rounded text-dark/8 dark:ring-light/1 dark:bg-light/1 dark:text-light/7 text-[.875em] leading-[calc(max(1.20em,1.25rem))]">access_token</code> will need to be refreshed every 48 hours for security reasons.

Reach out to us if you don't know your 'base\_url'. For most users, this is the same as their console URL except with the word 'console' replaced by 'api' (e.g. http://www.**console**.galileo.myenterprise.com -> http://www.**api**.galileo.myenterprise.com)

### 

[](#fetching)

Fetching

Once you have your auth token, you can start making ingestion calls to Galileo Observe.

#### 

[](#project-id)

Project ID

To log data, you'll need your project ID. Get your project ID by making a GET request to the <code class="py-[1px] px-1.5 min-w-[1.625rem] inline-flex justify-center items-center ring-1 ring-inset ring-dark/1 bg-dark/[0.06] rounded text-dark/8 dark:ring-light/1 dark:bg-light/1 dark:text-light/7 text-[.875em] leading-[calc(max(1.20em,1.25rem))]">/projects</code> endpoint, or simply copy it from the URL in your browser window. This project ID is static and will never change. You only have to do this once.

```
headers = {

headers = {

headers 
=
 
{
    'accept': 'application/json',

    'accept': 'application/json',

    
'accept'
:
 
'application/json'
,
    'Content-Type': 'application/json',

    'Content-Type': 'application/json',

    
'Content-Type'
:
 
'application/json'
,
    'Authorization': f"Bearer {access_token}"}

    'Authorization': f"Bearer {access_token}"}

    
'Authorization'
:
 f
"Bearer 
{access_token}
"
}




response = requests.get(f"{base_url}/projects", headers=headers,

response = requests.get(f"{base_url}/projects", headers=headers,

response 
=
 requests
.
get
(f
"
{base_url}
/projects"
, headers
=
headers,
                         params={"project_name": "{YOUR_PROJECT_NAME}"}

                         params={"project_name": "{YOUR_PROJECT_NAME}"}

                         params
=
{
"project_name"
: 
"
{YOUR_PROJECT_NAME}
"
}
                        )

                        )

                        )
project_id = response.json()[0]["id"]
project_id = response.json()[0]["id"]
project_id 
=
 response
.
json
()
[
0
][
"id"
]
```

#### 

[](#fetching-all-records)

Fetching all records

To fetch a list of your records, make a <code class="py-[1px] px-1.5 min-w-[1.625rem] inline-flex justify-center items-center ring-1 ring-inset ring-dark/1 bg-dark/[0.06] rounded text-dark/8 dark:ring-light/1 dark:bg-light/1 dark:text-light/7 text-[.875em] leading-[calc(max(1.20em,1.25rem))]">POST</code> the <code class="py-[1px] px-1.5 min-w-[1.625rem] inline-flex justify-center items-center ring-1 ring-inset ring-dark/1 bg-dark/[0.06] rounded text-dark/8 dark:ring-light/1 dark:bg-light/1 dark:text-light/7 text-[.875em] leading-[calc(max(1.20em,1.25rem))]">/observe/rows</code> endpoint:

```
headers = {

headers = {

headers 
=
 
{
    'accept': 'application/json',

    'accept': 'application/json',

    
'accept'
:
 
'application/json'
,
    'Content-Type': 'application/json',

    'Content-Type': 'application/json',

    
'Content-Type'
:
 
'application/json'
,
    'Authorization': f"Bearer {access_token}"}

    'Authorization': f"Bearer {access_token}"}

    
'Authorization'
:
 f
"Bearer 
{access_token}
"
}




records = requests.post(f"{base_url}/projects/{project_id}/observe/rows",

records = requests.post(f"{base_url}/projects/{project_id}/observe/rows",

records 
=
 requests
.
post
(f
"
{base_url}
/projects/
{project_id}
/observe/rows"
,
                         headers=headers)
                         headers=headers)
                         headers
=
headers)
```

Additional query params:

*   <code class="py-[1px] px-1.5 min-w-[1.625rem] inline-flex justify-center items-center ring-1 ring-inset ring-dark/1 bg-dark/[0.06] rounded text-dark/8 dark:ring-light/1 dark:bg-light/1 dark:text-light/7 text-[.875em] leading-[calc(max(1.20em,1.25rem))]">include_chains</code>: False by default.
    
*   <code class="py-[1px] px-1.5 min-w-[1.625rem] inline-flex justify-center items-center ring-1 ring-inset ring-dark/1 bg-dark/[0.06] rounded text-dark/8 dark:ring-light/1 dark:bg-light/1 dark:text-light/7 text-[.875em] leading-[calc(max(1.20em,1.25rem))]">start_time</code> / <code class="py-[1px] px-1.5 min-w-[1.625rem] inline-flex justify-center items-center ring-1 ring-inset ring-dark/1 bg-dark/[0.06] rounded text-dark/8 dark:ring-light/1 dark:bg-light/1 dark:text-light/7 text-[.875em] leading-[calc(max(1.20em,1.25rem))]">end_time</code>: Use to limit your request to a specific time window (e.g. "2018-11-12T09:15:32Z")
    
*   <code class="py-[1px] px-1.5 min-w-[1.625rem] inline-flex justify-center items-center ring-1 ring-inset ring-dark/1 bg-dark/[0.06] rounded text-dark/8 dark:ring-light/1 dark:bg-light/1 dark:text-light/7 text-[.875em] leading-[calc(max(1.20em,1.25rem))]">chain_id</code>: Fetch a specific chain.˝
    
*   <code class="py-[1px] px-1.5 min-w-[1.625rem] inline-flex justify-center items-center ring-1 ring-inset ring-dark/1 bg-dark/[0.06] rounded text-dark/8 dark:ring-light/1 dark:bg-light/1 dark:text-light/7 text-[.875em] leading-[calc(max(1.20em,1.25rem))]">limit</code>: Integer. Limit your the search to the n most recent records.
    

#### 

[](#fetching-aggregate-metrics)

Fetching aggregate metrics

To fetch a list of aggregate metrics bucketed over time, make a <code class="py-[1px] px-1.5 min-w-[1.625rem] inline-flex justify-center items-center ring-1 ring-inset ring-dark/1 bg-dark/[0.06] rounded text-dark/8 dark:ring-light/1 dark:bg-light/1 dark:text-light/7 text-[.875em] leading-[calc(max(1.20em,1.25rem))]">POST</code> request to the <code class="py-[1px] px-1.5 min-w-[1.625rem] inline-flex justify-center items-center ring-1 ring-inset ring-dark/1 bg-dark/[0.06] rounded text-dark/8 dark:ring-light/1 dark:bg-light/1 dark:text-light/7 text-[.875em] leading-[calc(max(1.20em,1.25rem))]">/observe/metrics/</code> endpoint:

```
headers = {

headers = {

    'accept': 'application/json',

    'accept': 'application/json',

    'Content-Type': 'application/json',

    'Content-Type': 'application/json',

    'Authorization': f"Bearer {access_token}"}

    'Authorization': f"Bearer {access_token}"}





records = requests.post(f"{base_url}/projects/{project_id}/observe/metrics",

records = requests.post(f"{base_url}/projects/{project_id}/observe/metrics",

                         headers=headers)

                         headers=headers)







```

Additional query params:

*   <code class="py-[1px] px-1.5 min-w-[1.625rem] inline-flex justify-center items-center ring-1 ring-inset ring-dark/1 bg-dark/[0.06] rounded text-dark/8 dark:ring-light/1 dark:bg-light/1 dark:text-light/7 text-[.875em] leading-[calc(max(1.20em,1.25rem))]">include_chains</code>: False by default.
    
*   <code class="py-[1px] px-1.5 min-w-[1.625rem] inline-flex justify-center items-center ring-1 ring-inset ring-dark/1 bg-dark/[0.06] rounded text-dark/8 dark:ring-light/1 dark:bg-light/1 dark:text-light/7 text-[.875em] leading-[calc(max(1.20em,1.25rem))]">start_time</code> / <code class="py-[1px] px-1.5 min-w-[1.625rem] inline-flex justify-center items-center ring-1 ring-inset ring-dark/1 bg-dark/[0.06] rounded text-dark/8 dark:ring-light/1 dark:bg-light/1 dark:text-light/7 text-[.875em] leading-[calc(max(1.20em,1.25rem))]">end_time</code>: Use to limit your request to a specific time window (e.g. "2018-11-12 09:15:32")
    

[PreviousLogging Data via RESTful APIs](/galileo/gen-ai-studio-products/galileo-observe/how-to/logging-data-via-restful-apis)[NextExporting your Data](/galileo/gen-ai-studio-products/galileo-observe/how-to/exporting-your-data)

Last updated 1 month ago